# DataMigrate AI - Production Environment Variables
# Copy this file to .env.production and fill in actual values

# =============================================================================
# REQUIRED - These must be set for production deployment
# =============================================================================

# JWT Authentication (generate a strong random key, 32+ characters)
JWT_SECRET=your-production-jwt-secret-min-32-chars

# Encryption Key for database connections (generate with: openssl rand -hex 32)
ENCRYPTION_KEY=your-64-char-hex-encryption-key

# Anthropic API Key for AI features
ANTHROPIC_API_KEY=sk-ant-your-key-here

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DB_HOST=postgres
DB_PORT=5432
DB_USER=datamigrate
DB_PASSWORD=your-secure-database-password
DB_NAME=datamigrate
DB_SSL_MODE=require

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
SERVER_PORT=8080
SERVER_HOST=0.0.0.0
ENVIRONMENT=production

# CORS - Allowed origins (comma-separated)
ALLOWED_ORIGINS=https://datamigrate.ai,https://app.datamigrate.ai

# =============================================================================
# EMAIL CONFIGURATION (for password reset, notifications)
# =============================================================================
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=your-sendgrid-api-key
SMTP_FROM_EMAIL=noreply@datamigrate.ai
SMTP_FROM_NAME=DataMigrate AI

# Frontend URL (for email links)
FRONTEND_URL=https://app.datamigrate.ai

# =============================================================================
# AI SERVICE CONFIGURATION
# =============================================================================
AI_SERVICE_URL=http://ai-service:8081

# =============================================================================
# DOCKER/RAILWAY SPECIFIC
# =============================================================================

# Port mappings (defaults are fine for most cases)
BACKEND_PORT=8080
AI_PORT=8081
FRONTEND_PORT=80

# Frontend API URL (relative for same-origin, absolute for external)
VITE_API_URL=/api

# =============================================================================
# OPTIONAL - Monitoring & Logging
# =============================================================================

# Prometheus metrics endpoint
ENABLE_METRICS=true
METRICS_PORT=9090

# Log level (debug, info, warn, error)
LOG_LEVEL=info

# =============================================================================
# RAILWAY DEPLOYMENT NOTES
# =============================================================================
# When deploying to Railway:
# 1. Create a new project from GitHub repo
# 2. Add PostgreSQL database service
# 3. Set these environment variables in Railway dashboard
# 4. Railway automatically detects Dockerfile and deploys
#
# Railway provides:
# - DATABASE_URL: Use this instead of individual DB_* vars
# - RAILWAY_PUBLIC_DOMAIN: Your app's public URL
